= f.input :name, as: :name,  label: 'Title'
= f.input :blog_id, collection: BcmsBlog::Blog.editable_by(current_user).map{|b| [b.name, b.id]}

= f.input :featured, as: :boolean, label: "Should the blog post be featured"
= f.association :categories, collection: categories_for('Blog Post').select{|c| c.parent.nil? }.map{|c| [c.path, c.id]}, :include_blank => true
= f.association :subcategories, collection: categories_for('Blog Post').select{|c| !c.parent.nil? }.map{|c| [c.path, c.id]}, :include_blank => true


= f.input :summary, :style => "height: 200px", :instructions => 'This will be displayed on the list page with a Read More link if present', as: :text_editor
= f.input :body, as: :text_editor


.video
  %h2
    Video
  %h3
    Video file
  = f.input :video, :as => :file_picker, :label => "Blog Post Video"
  %h3
    Video url
  = f.input :video_url, :label => "Blog Post Video Url"

.image
  %h2
    Image
  %h3
    Image file
  = f.input :file, :as => :file_picker, :label => "Blog Post Image"
  %h3
    Image url
  = f.input :image_url, :as => :file_picker, :label => "Blog Post Image Url"

  %br/

  - unless @block.new_record?
    - unless @block.file.nil?
      = image_tag @block.file.url(:medium)
      = image_tag @block.file.url(:small)

%br/

= f.input :published_at, as: :datetime, :label => "Date", :hint=>"The 'published' date/time for the post which is displayed publically."

- unless @block.new_record?
  = f.input :author_id, collection: @block.blog.potential_authors.map { |u| ["#{u.full_name} (#{u.login})", u.id] }

= f.cms_tag_list
